(this["webpackJsonpreact-chat-app"]=this["webpackJsonpreact-chat-app"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),s=n(17),r=n.n(s),i=(n(25),n(8)),o=(n(26),n(9)),u=(n(14),n(16),n(19)),j=n(11),d=(n(29),n(2)),l=function(e){var t=e.signIn;return Object(d.jsxs)("div",{className:"signInContainer",children:[Object(d.jsx)("h1",{children:"Login to start chatting"}),Object(d.jsxs)("button",{className:"signInBtn",onClick:t,children:[Object(d.jsx)("img",{src:"google.png"})," ",Object(d.jsx)("p",{children:"sign in with google"})]})]})},h=(n(31),n(32),function(e){e.key;var t=e.message,n=e.auth,c=t.text,a=t.photoURL,s=t.uid==n.currentUser.uid?"sent":"received";return console.log(s),console.log(a),Object(d.jsxs)("div",{className:"chatMessage "+s,children:[Object(d.jsx)("img",{src:a||"user.png"}),Object(d.jsx)("div",{className:"messageTextContainer",children:Object(d.jsx)("p",{children:c})})]})}),b=function(e){var t=e.messagesRef,n=e.auth,a=t.orderBy("createdAt").limit(25),s=Object(j.a)(a,{idField:"id"}),r=Object(i.a)(s,1)[0],o=Object(c.useRef)();return Object(d.jsxs)("div",{className:"channel",children:[r&&r.map((function(e){return Object(d.jsx)(h,{message:e,auth:n},e.id)})),Object(d.jsx)("div",{ref:o})]})},p=(n(33),function(e){var t=e.signOut;return Object(d.jsxs)("header",{children:[Object(d.jsxs)("div",{className:"backChat",children:[Object(d.jsx)("span",{className:"material-icons",children:"keyboard_arrow_left"}),Object(d.jsx)("h1",{children:"Global"})]}),Object(d.jsx)("button",{className:"signOutBtn",onClick:t,children:Object(d.jsx)("p",{children:"logout"})})]})}),f=n(15),g=n.n(f),O=n(20),m=(n(35),function(e){var t=e.auth,n=e.messagesRef,a=(e.firestore,Object(c.useState)("")),s=Object(i.a)(a,2),r=s[0],u=s[1],j=function(){var e=Object(O.a)(g.a.mark((function e(c){var a,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),a=t.currentUser,s=a.uid,i=a.photoURL,e.next=4,n.add({text:r,createdAt:o.a.firestore.FieldValue.serverTimestamp(),uid:s,photoURL:i});case 4:u("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{class:"textArea",children:Object(d.jsxs)("form",{onSubmit:j,children:[Object(d.jsx)("textarea",{value:r,onChange:function(e){return u(e.target.value)},placeholder:"write some words"}),Object(d.jsx)("button",{type:"submit",children:Object(d.jsx)("span",{className:"material-icons",children:"gavel"})})]})})});o.a.initializeApp({apiKey:"AIzaSyACpTYTkS62_1c4zTgaHDOhy-oXjMYHzQY",authDomain:"react-chat-app-f91d6.firebaseapp.com",projectId:"react-chat-app-f91d6",storageBucket:"react-chat-app-f91d6.appspot.com",messagingSenderId:"80861148167",appId:"1:80861148167:web:7cffc4e349f0e0d37e66a2"});var x=o.a.auth(),v=o.a.firestore();var y=function(){var e=Object(u.a)(x),t=Object(i.a)(e,1)[0],n=v.collection("messages"),c=n.orderBy("createdAt").limit(25),a=Object(j.a)(c,{idField:"id"});return Object(i.a)(a,1)[0],Object(d.jsx)("div",{className:"appContainer",children:t?Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{signOut:function(){x.signOut()}}),Object(d.jsx)(b,{messagesRef:n,auth:x}),Object(d.jsx)(m,{messagesRef:n,firestore:v,auth:x})]}):Object(d.jsx)(l,{signIn:function(){try{var e=new o.a.auth.GoogleAuthProvider;x.signInWithPopup(e)}catch(t){console.error(t)}}})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),C()}},[[36,1,2]]]);
//# sourceMappingURL=main.392fbd53.chunk.js.map